DROP DATABASE IF EXISTS DBESTAMPARIA;
CREATE DATABASE DBESTAMPARIA;
USE DBESTAMPARIA;

CREATE TABLE `DBESTAMPARIA`.`PESSOA` (
`ID` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(255) NOT NULL,
  `CPF` VARCHAR(15) NOT NULL,
  `EMAIL` VARCHAR(255) NOT NULL,
  `SENHA` VARCHAR(255) NOT NULL,
  `FUNCIONARIO` TINYINT NOT NULL,
  PRIMARY KEY (`ID`));
  
  
CREATE TABLE `DBESTAMPARIA`.`PEDIDO`(
	`ID` INT NOT NULL AUTO_INCREMENT,
    `STATUS_PEDIDO` VARCHAR(20) NOT NULL,
    `ID_PESSOA` INT NULL,
    PRIMARY KEY (`ID`),
	CONSTRAINT ID_PESSOA
    FOREIGN KEY (ID_PESSOA)
    REFERENCES DBESTAMPARIA.PESSOA (id)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);

  
CREATE TABLE `DBESTAMPARIA`.`CAMISA`(
	`ID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `TAMANHO` CHAR(4) NOT NULL,
    `COR` VARCHAR(20) NOT NULL,
    `ESTAMPA` blob NOT NULL,
    `ID_PEDIDO` INT NOT NULL,
	CONSTRAINT ID_PEDIDO
    FOREIGN KEY (ID_PEDIDO)
    REFERENCES DBESTAMPARIA.PEDIDO (id)
 );

INSERT INTO PESSOA (NOME,CPF,EMAIL,SENHA,FUNCIONARIO) VALUES ('ELIEZER','222.222.222-22', 'ELIEZER@GMAIL.COM','ABC', FALSE);
INSERT INTO PESSOA (NOME,CPF,EMAIL,SENHA,FUNCIONARIO) VALUES ('RAQUEL','111.111.111-11', 'RAQUEL@GMAIL.COM','ABC21', FALSE);
UPDATE PESSOA SET NOME='ELIEZER', CPF='222.222.222-22', EMAIL='ELIEZERLIZ2704@GMAIL.COM', SENHA='ABC', FUNCIONARIO=TRUE WHERE ID = 1;
SELECT * FROM PESSOA;


